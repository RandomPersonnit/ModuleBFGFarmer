# ---------------------------------------------------------------------------------
#  /\_/\  üåê This module was loaded through https://t.me/hikkamods_bot
# ( o.o )  üîì Not licensed.
#  > ^ <   ‚ö†Ô∏è Owner of heta.hikariatama.ru doesn't take any responsibilities or intellectual property rights regarding this script
# ---------------------------------------------------------------------------------
# Name: AKFarmer
# Description: Send mes
# Author: @Tirandomperson
# Commands:
# .akon | .akoff
# ---------------------------------------------------------------------------------


# meta developer: @Tirandomperson

from asyncio import sleep

from telethon import events
from .. import loader, utils


class AKFarmer(loader.Module):
    """Send mes"""

    async def client_ready(self, client, db):
        self.db = db
        self.client = client

    async def akoncmd(self, message):
        """–í–∫–ª—é—á–∏—Ç—å —Ñ–∞—Ä–º"""
        if not self.db.get("AKFarmer", "status1", False):
            self.db.set("AKFarmer", "status1", True)
            await utils.answer(message, "<b>‚úÖ –ó–∞–ø—É—â–µ–Ω–æ</b>")
            while self.db.get("AKFarmer", "status1", False):
                await sleep(60 * 60 * 4)
                await message.respond("–ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ä—Ç—É")
        else:
            await utils.answer(message, "<b>‚ö†Ô∏è –§–∞—Ä–º —É–∂–µ –∑–∞–ø—É—â–µ–Ω</b>")

    async def akoffcmd(self, message):
        """–í—ã–∫–ª—é—á–∏—Ç—å —Ñ–∞—Ä–º"""
        if self.db.get("AKFarmer", "status1", False):
            self.db.set("AKFarmer", "status1", False)
            await utils.answer(message, "<b>‚ùå –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ</b>")
        else:
            await utils.answer(message, "<b>‚ö†Ô∏è –§–∞—Ä–º –Ω–µ –∑–∞–ø—É—â–µ–Ω</b>")

    async def cmd(self, message):
        """–ö–æ–ø–∞—Ç—å –∏–∑—É–º—Ä—É–¥—ã (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)"""
        if not self.db.get("AKFarmer", "status2", False):
            self.db.set("AKFarmer", "status2", True)
            await utils.answer(message, "<b>‚úÖ –ó–∞–ø—É—â–µ–Ω–æ</b>")
            while self.db.get("AKFarmer", "status2", False):
                await sleep(60 * 5)
                await self.client.send_message(message.to_id, "–∫–æ–ø–∞—Ç—å –∏–∑—É–º—Ä—É–¥—ã")
        else:
            await utils.answer(message, "<b>‚ö†Ô∏è –§–∞—Ä–º —É–∂–µ –∑–∞–ø—É—â–µ–Ω</b>")

    async def cmdoff(self, message):
        """–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–∞—Ä–º –∏–∑—É–º—Ä—É–¥–æ–≤"""
        if self.db.get("AKFarmer", "status2", False):
            self.db.set("AKFarmer", "status2", False)
            await utils.answer(message, "<b>‚ùå –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ</b>")
        else:
            await utils.answer(message, "<b>‚ö†Ô∏è –§–∞—Ä–º –Ω–µ –∑–∞–ø—É—â–µ–Ω</b>")
